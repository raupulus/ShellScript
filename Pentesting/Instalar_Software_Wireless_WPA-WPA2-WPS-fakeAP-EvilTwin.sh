#!/usr/bin/env bash
# -*- ENCODING: UTF-8 -*-
##
## @author     Raúl Caro Pastorino
## @copyright  Copyright © 2018 Raúl Caro Pastorino
## @license    https://wwww.gnu.org/licenses/gpl.txt
## @email      dev@fryntiz.es
## @web        https://fryntiz.es
## @github     https://github.com/fryntiz
## @gitlab     https://gitlab.com/fryntiz
## @twitter    https://twitter.com/fryntiz
##
##             Guía de estilos aplicada:
## @style      https://github.com/fryntiz/Bash_Style_Guide

############################
##     INSTRUCCIONES      ##
############################
## El objetivo de este script es instalar algunas herramientas para la auditoría
## de forma automatizada

############################
##       CONSTANTES       ##
############################
AM="\033[1;33m"  ## Color Amarillo
RO="\033[1;31m"  ## Color Rojo
VE="\033[1;32m"  ## Color Verde
CL="\e[0m"       ## Limpiar colores

###########################
##       VARIABLES       ##
###########################

###########################
##       FUNCIONES       ##
###########################

# Handshaker
function handshaker_instalador() {
    sudo git clone https://github.com/d4rkcat/HandShaker.git /opt/handshaker
    sudo ln -s /opt/handshaker/handshaker.sh /bin/handshaker
    sudo chmod 777 -R /opt/handshaker
}

# Wifiphisher
function wifiphisher_instalador() {
    sudo git clone https://github.com/wifiphisher/wifiphisher.git /usr/src/wifiphisher
    cd /usr/src/wifiphisher
    sudo python setup.py install

    # Extra pishin Guardados en → wifiphisher/data/phishingpages
    # https://github.com/wifiphisher/extra-phishing-pages.git
}

# Airgeddon
function airgeddon_instalador() {
    sudo git clone --depth 1 https://github.com/v1s1t0r1sh3r3/airgeddon.git /opt/airgeddon
    sudo ln -s /opt/airgeddon/airgeddon.sh /bin/airgeddon
    sudo chmod 777 -R /opt/airgeddon

    sudo apt install ettercap-graphical
}

# Aircrack-ng
function aircrack_instalador() {
    sudo git clone https://github.com/aircrack-ng/aircrack-ng.git /usr/src/aircrack
    sudo cd /usr/src/aircrack
    sudo make
    sudo make install
}

# Wifite
function wifite_instalador() {
    sudo git clone https://github.com/derv82/wifite.git /opt/wifite
    sudo ln -s /opt/wifite/wifite.py /bin/wifite
    sudo chmod 777 -R /opt/wifite
}

# Wifite 2
function wifite2_instalador() {
    sudo git clone https://github.com/derv82/wifite2.git /opt/wifite2
    sudo ln -s /opt/wifite2/Wifite.py /bin/wifite2
    sudo chmod 777 -R /opt/wifite2
}

# Airscript
function airscript_instalador() {
    sudo git clone https://github.com/Sh3llcod3/Airscript-ng.git /opt/airscript
    sudo ln -s /opt/airscript/airscript-ng.py /bin/airscript-ng
    sudo chmod 777 -R /opt/airscript
    #sudo python3 /opt/airscript/airscript-ng.py
}

# Linset
function linset_instalador() {
    sudo git clone https://github.com/vk496/linset.git /opt/linset
    sudo ln -s /opt/linset/linset /bin/linset
    sudo chmod 777 -R /opt/linset
}

# Eaphammer for WPA-2 Enterprise with radius
function eaphammer_instalador() {
    sudo git clone https://github.com/s0lst1c3/eaphammer.git /opt/eaphammer
    cd /opt/eaphammer
    sudo ./kali-setup
    sudo ln -s /opt/eaphammer/eaphammer /bin/eaphammer
    sudo chmod 777 -R /opt/eaphammer
}

# MITMF Men in the Middle Framework
function mitmf_instalador() {
    sudo apt install -y python-dev python-setuptools libpcap0.8-dev libnetfilter-queue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone3 libcapstone-dev libffi-dev file

    pip install virtualenvwrapper

    sudo git clone https://github.com/byt3bl33d3r/MITMf.git /opt/mitmf
    ln -s /opt/mitmf/mitmf.py /bin/mitmf
}


# Bad-Brother
function badbrother_instalador() {
    sudo git clone https://github.com/willnaoosmit/Bad-Brother.git /opt/bad-brother
    #sudo ln -s /opt/bad-brother/badbrother /bin/badbrother
    sudo chmod 777 -R /opt/bad-brother

    echo '#!/bin/bash' | sudo tee /bin/badbrother
    echo 'cd /opt/bad-brother' | sudo  tee -a /bin/badbrother
    echo './BadBrother.sh' | sudo tee -a /bin/badbrother

    sudo chmod +x /bin/badbrother
}

# Fluxion
function fluxion_instalador() {
    sudo git clone --recursive https://github.com/FluxionNetwork/fluxion.git /opt/fluxion

    echo '#!/bin/bash' | sudo tee /bin/fluxion
    echo 'cd /opt/fluxion' | sudo tee -a /bin/fluxion
    echo './fluxion.sh' | sudo tee -a /bin/fluxion

    sudo chmod 777 -R /opt/fluxion
    sudo chmod +x /bin/fluxion
}

# Wirespy
function wirespy_instalador() {
    sudo git clone https://github.com/AresS31/wirespy.git /opt/wirespy
    sudo ln -s /opt/wirespy/wirespy.sh /bin/wirespy
    sudo chmod 777 -R /opt/wirespy
}

# ApeX
function apex_instalador() {
    sudo git clone https://github.com/Ethical-H4CK3R/ApeX.git /opt/apex
    sudo ln -s /opt/apex/apex.py /bin/apex

    echo '#!/bin/python' | sudo tee /bin/apex
    echo 'cd /opt/apex' | sudo tee -a /bin/apex
    echo 'sudo python apex.py' | sudo tee -a /bin/apex

    sudo chmod 777 -R /opt/apex
}

# Pixiewps
function pixiewps_instalador() {
    echo "pixiewps no instala nada aún"
    #sudo mkdir /opt/pixiewps
}

# Geminis
function geminis_instalador() {
    echo "gemini no instala nada aún"
}

# GoyScript
function goyscript_instalador() {
    echo "goyscript no instala nada aún"
}

function instalar_todo() {
    handshaker_instalador
    #wifiphisher_instalador → Mejor desde kali linux
    airgeddon_instalador
    # aircrack_instalador → Mejor desde kali linux
    # wifite_instalador → Mejor desde kali linux
    wifite2_instalador
    airscript_instalador
    linset_instalador
    eaphammer_instalador
    # mitmf_instalador → Mejor desde kali linux
    badbrother_instalador
    fluxion_instalador
    apex_instalador
    wirespy_instalador
    pixiewps_instalador
    geminis_instalador
    goyscript_instalador
}
instalar_todo
