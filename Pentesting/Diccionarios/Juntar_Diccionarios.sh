#!/bin/bash
#Script realizado por Raúl Caro Pastoriono (fryntiz)

#ESTE SCRIPT NO ESTÁ OPTIMIZADO Y NO TRABAJA CORRECTAMENTE YA QUE ES UNA COPIA DEL OTRO QUE TENGO CREADO PARA COMBINAR DICCIONARIOS Y SE NECESITA REORGANIZAR Y VOLVER HACER DE NUEVO EL SCRIPT PARA QUE MEZCLE ORDENE Y ELIMINE CAMPOS REPETIDOS

#Variables Generales
escribir_salida=false
diccionario1=$1
diccionario2=$2

##### CONSTANTES COLORES #####
rojo="\033[0;31m"
verde="\033[0;32m"
azul="\033[0;34m"
magenta="\033[0;35m"
cyan="\033[01;36m"
grisC="\033[0;37m"
gris="\033[1;30m"
rojoC="\033[1;31m"
verdeC="\033[1;32m"
amarillo="\033[1;33m"
azulC="\033[1;34m"
magentaC="\033[1;35m"
cyanC="\033[1;36m"
blanco="\033[1;37m"

clear

mensaje() {
	echo "   Modo de uso:"
	echo " $0 [OPCIONES] <Diccionario1> <Diccionario2>"
	echo ""
	echo "    Opciones:"
	echo "   -h, Mostrar esta ayuda"
	echo "   -o, Especificar nombre del archivo de salida."
	echo ""
	echo ""
	echo " Este script sumará 2 diccionarios, ordenará alfabeticamente el nuevo diccionario generado y eliminará las lineas duplicadas"
	echo ""
}

if [ $# -eq 0 ] #Comprueba que existen parámentros
	then
		mensaje
		exit 1
fi

while getopts "ho:" Opcion
	do
		case $Opcion in
			h)
				echo "Menu de ayuda"
				echo ""
				mensaje
				exit 1
				;;
			o)
				salida=$OPTARG
				escribir_salida=true
				;;
			?)
				echo "opción $OPTARG no reconocida"
				;;
			:)
				echo "opción $OPTARG requiere un argumento"
				;;
		esac
	done

shift $(( OPTIND -1 ))

cat $1 > /tmp/$salida
cat $2 >> /tmp/$salida
cat /tmp/$salida | sort | uniq > $salida

#Script realizado por Raúl Caro Pastoriono (fryntiz)
